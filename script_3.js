const n1 = {
    heading: "PayPal enables transfer of digital currencies to external wallets",
    img: "./news_1.png",
    category: "Finance",
    body: " The move comes after nearly two years since PayPal enabled users to buy and sell crypto on its platform. After rolling out the ability to buy and sell crypto on its platform in October 2020, PayPal is finally allowing users the ability to natively transfer, send and receive digital assets between PayPal and other wallets and exchanges. As of Tuesday, the feature is available to select U.S. users, with the feature expanding to all eligible U.S. users in the coming weeks. The first batch of supported coins consists of BitcoinBTC $16,704, Ether  ETH $1,217, Bitcoin Cash BCH $100, and Litecoin LTC $74.58. In addition, customers who transfer their crypto onto PayPal can spend it via Checkout at millions of merchant terminals. The company has been granted a full Bitlicense by the New York Department of Financial Services for the conductUsers would simply need to log in to their accounts and enter the crypto section of the application to start transferring coins. Users are generally required to complete a one-time ID verification before the procedureCrypto transfers to recipients outside of PayPal would incur a network fee based on their respective blockchains, but transfers between PayPal users will not incur such fees. To protect users' privacy, the firm generates a new recipient address for each transaction into one's PayPal account. PayPal will also not charge fees for incoming transfersThe company is also working to integrate other forms of cryptocurrency services, such as central bank digital currencies, to boost its digital footprint. It is also exploring the possibility of launching its own stablecoin, dubbed \"PayPal Coin.\" The discovery came after a developer found evidence of such a stablecoin within the source code of the company's iPhone app."
}

const n2 = {
    heading: "Italian Parliament Approves 26% Crypto-Gains Tax in 2023 Budget",
    img: "./news_2.png",
    category: "Finance",
    body: " Crypto traders in Italy will be subject to a 26% capital-gains tax starting in 2023,according to a new budget that won parliamentary approval on Thursday.Italian Prime Minister Giorgia Meloni's 2023 expansionary budget – which wascompleted in a rush before the end of the year – features 21 billion euros ($22.3billion) in tax breaks to assist businesses and households facing the energy crisis,Reuters reported.In Italy, where crypto remains largely unregulated, the 387-page budget legitimizescrypto assets by defining them as \"a digital representation of value or rights, whichcan be transferred and stored electronically, using the technology of distributedledger or similar technology.\"Italy's (and most recently Portugal's) move to introduce a capital-gains tax on cryptocomes ahead of the implementation of the European Union's Markets in CryptoAssets (MiCA) regulation that promises a licensing frameworks and stringentoperating requirements for crypto-service providers in the 27-member bloc.The 26% rate applies to gains from crypto trading if they exceed 2,000 euros per taxperiod. As an incentive for declaring crypto profits, the new bill also sets a \"substituteincome tax\" for investors at 14% of the value of the assets held as of Jan. 1, 2023,instead of the cost at the time of purchase.According to the new rules, losses from crypto investments can be deducted fromprofits and be carried forward.Investors, however, may require some additional guidance on what qualifies as ataxable event as the document also says, \"the exchange between crypto assetshaving same characteristics and functions,\" doesn\'t constitute a \"fiscal case.\""
}
const n3 = {
    heading: "Microstrategy Buys More Bitcoin — Company's Crypto Holdings Grow to 132,500 BTC",
    img: "./news_5.png",
    category: "Technology",
    body: " Microstrategy is now holding approximately 132,500 bitcoin following its mostrecent purchases. This year, the world’s largest cryptocurrency has emerged as “theinstitutional-grade digital asset,” said Microstrategy founder Michael Saylor.Microstrategy Acquires More BitcoinNasdaq-listed Microstrategy Inc. announced Wednesday that it has purchased morebitcoin for its corporate treasury. Michael Saylor, the company’s founder andexecutive chairman, tweeted Wednesday:Microstrategy has increased its bitcoin holdings by ~2,500 BTC. As of 12/27/22Microstrategy holds ~132,500 bitcoin acquired for ~$4.03 billion at an average priceof ~$30,397 per bitcoin.In its filing with the U.S. Securities and Exchange Commission (SEC), Microstrategyclarified that the 2,500 coins were acquired between Nov. 1 and Dec. 24 by its whollyowned subsidiary Macrostrategy.The bitcoin sale in December marked the first time Microstrategy sold its bitcoinsince it began accumulating the crypto for its corporate treasury in 2020. Thecompany cited tax reasons for selling BTC. “Microstrategy plans to carry back thecapital losses resulting from this transaction against previous capital gains, to theextent such carrybacks are available The subsidiary bought approximately 2,395 BTCat an average price of $17,871 per coin between Nov. 1 and Dec. 21. It then soldabout 704 BTC at $16,776 per coin on Dec. 22. Macrostrategy then bought about 810more BTC at $16,845 per coin on Dec. 24. At the time of writing, bitcoin is trading at$16,656.80.under the federal income tax laws currently in effect, which may generate a taxbenefit,” the SEC filing describes.Saylor said in an interview last week:The most positive thing of the year is the emergence of bitcoin as the institutionalgrade digital asset and the clarity that ... there is one crypto asset that’s a digitalcommodity ... Bitcoin is that commodity.The executive noted that both the chairman of the SEC and the chair of theCommodity Futures Trading Commission (CFTC) have confirmed that bitcoin is acommodity.Saylor previously explained that Microstrategy is investing in BTC “for the long term.”He added: “Our strategy is to buy bitcoin and hold the bitcoin, so there’s no pricetarget ... I expect bitcoin is going to go into the millions. So, we’re very patient. Wethink it’s the future of money.”"
}
const n4 = {
    heading: "Bitcoin Miners’ Revenue Hits $9.55 Billion in 2022",
    img: "./news_4.png",
    category: "Bitcoin",
    body: " 2022 has been a rough and tough year for investors, traders, cryptocurrencybusinesses, and miners in general. The prolonged bear market, exacerbated by aseries of catastrophic events, posed a threat to miners.Miners were dealing with a variety of issues, including defaulted loans, quarterlylosses, and soaring bitcoin hashrates that reached all-time highs. All these factorswere affecting the profitability of the miners and were causing sell pressure.The situation was aggravated when cryptocurrency prices, including Bitcoin’s,plummeted. Bitcoin, which was hovering around $48,000 last year, hit a low of$15,590 by the end of 2022. According to the data collected from The Block, bitcoinminers’ revenue hit $9.55 billion in 2022.Bitcoin miners’ revenue dropped in 2022Bitcoin, which is trading at $16,721 at press time, has been on a downward spiralalongside other cryptocurrencies. The falling cryptocurrency prices had a majoreffect on the income and profits of miners. Even though the $9.55 billion in revenuein 2022 seems like a large number, it is comparatively lower than that of 2021.Over the course of 2021, bitcoin miners made more than $15 billion in revenue,according to the data from the block. This was actually considered to be a 206%year-over-year increase"
}
const n5 = {
    heading: "Mango Markets Exploiter Eisenberg Arrested in Puerto Rico",
    img: "./news_5.png",
    category: "Market",
    body: " Avraham Eisenberg, the crypto investor whose “highly profitable trading strategy”drained DeFi trading platform Mango Markets of crypto worth $110 million, wasarrested Monday in Puerto Rico, court documents said.The self-described game theorist admitted his role in draining Mango Markets’treasury shortly after the incident in mid-October, and may now be the first U.S.resident to face charges for his role in manipulating a decentralized-finance tradingplatform.Eisenberg faces charges of commodities fraud and commodities manipulation,according to a filing unsealed Tuesday. The charges could see punishments rangingfrom fines to prison time.A deposition signed by FBI Special Agent Brandon Racz alleges Eisenberg “willfullyand knowingly” manipulated the sale of a commodity – namely futures contracts onMango Markets.“Eisenberg engaged in a scheme involving the intentional and artificial manipulationof the price of perpetual futures contracts on a cryptocurrency exchange calledMango Markets, and other manipulative and deceptive devices and contrivances.\""
}
const news = [n1, n2, n3, n4, n5];

const avl_cate = ["Finance", "Bitcoin", "Market", "Technology", "Bitcoin"];

let i = 0;




function get_news() {
    if (i == 5) {
        console.log(" if " + i);
        i = 0;
    }


    document.getElementById("nc1").innerHTML = news[i].heading;

    if (news[i].img != null) {
        document.getElementById("nc2").setAttribute("src", news[i].img);
        // console.log(" i= " + i + " " + news[i].img)
    }
    else {
        document.getElementById("nc2").setAttribute("src", "");
        document.getElementById("nc2").setAttribute("alt", "");
        // console.log(" else i= "+i+" "+news[i].img)
    }
    document.getElementById("nc3").innerHTML = news[i].body.slice(0, 500).concat('...');


    load_news_slide();
    get_next_news();
    i++;
}

function get_next_news() {
    const next_news_body = document.getElementsByClassName("next_news_body");
    const next_news_head = document.getElementsByClassName("next_news_head");
    const next_news_img = document.getElementsByClassName("next_news_img");


    for (let i = 0; i < 3; i++) {
        // next_news_body[i].innerHTML=news[i].body.slice(0,200).concat("...");
        next_news_head[i].innerHTML = news[i].heading;

        if (news[i].img != null) {

            next_news_img[i].setAttribute("src", news[i].img);


        }
        else {
            next_news_img[i].setAttribute("src", "");
            next_news_img[i].setAttribute("src", "");
        }
    }
}

function load_news(news_id) {
    i = news_id;
    get_news()


}

function load_news_slide() {
    const news_slide_head = document.getElementsByClassName("news_slide_head");
    const news_slide_img = document.getElementsByClassName("news_slide_img");

    for (let i = 0; i < 3; i++) {
        news_slide_head[i].innerHTML = news[i].heading;

        news_slide_img[i].setAttribute("src", news[i].img);
    }
}


function get_home_news() {
    if (i == 5) {
        console.log(" if " + i);
        i = 0;
    }


    document.getElementsByClassName("homepage_main_news_head")[0].innerHTML = news[i].heading;
    // document.getElementsByClassName("homepage_main_news_head").innerHTML="jaysing";
    // console.log(document.getElementsByClassName("homepage_main_news_head")[0])

    if (news[i].img != null) {
        document.getElementsByClassName("homepage_main_news_img")[0].setAttribute("src", news[i].img);
        // console.log(" i= "+i+" "+news[i].img)
    }
    else {
        document.getElementsByClassName("homepage_main_news_img")[0].setAttribute("src", "");
        document.getElementsByClassName("homepage_main_news_img")[0].setAttribute("alt", "");
        // console.log(" else i= "+i+" "+news[i].img)
    }
    document.getElementsByClassName("homepage_main_news_body")[0].innerHTML = news[i].body;
    load_news_slide();
    get_next_news();
    i++;
}



function continue_read() {
    const change = document.getElementById("nc3");


    if (change.style.display == '' || change.style.display == 'none') {
        change.innerHTML = news[(i - 1)].body;
        change.style.display = 'block';
        document.getElementsByClassName('continue_news')[0].innerHTML = 'Close';
    }
    // else
    // {   
    //     document.getElementById("nc3").innerHTML= news[(i-1)].body.slice(0,500).concat('...');

    //     change.style.display='';
    //     document.getElementsByClassName('continue_news')[0].innerHTML='Continue';
    // }

    document.getElementsByClassName('continue_news')[0].remove();

}

function load_category_card() {

    for (let i = 0; i < avl_cate.length; i++) {
        const card_sec = document.getElementsByClassName("category_card_sec" + i)[0];
        // console.log("I "+i);
        let count = 0;

        for (let j = 0; j < news.length; j++) {
            // console.log("j "+j);
            if (avl_cate[i] == news[j].category) {
                // console.log("In J "+j);
                // document.write("worikng");
                const card_img = document.getElementsByClassName("category_card_img" + i);
                document.getElementsByClassName("category_card_head" + i)[count].insertAdjacentText("afterbegin", news[j].heading);
                card_img[count].setAttribute("src", news[j].img);
                count++;
                document.getElementsByClassName("category_card_title")[i].innerHTML = avl_cate[i];

                if (count == card_img.length) {

                    const card_sub_str = document.getElementsByClassName("category_card_sub_str" + i)[0];
                    const new_card = card_sub_str.cloneNode(true);

                    document.getElementById("card_row" + i).appendChild(new_card);


                }
            }
        }


        const card_row = document.getElementById("card_row" + i);
        card_row.removeChild(card_row.lastElementChild);

    }
}

const get_started = e_t => {
    load_category_card();
    {

        let old_scroll = document.getElementById('navbarSupportedContent').offsetTop + 40;
        // console.log(" top works " + old_scroll);

        window.onscroll = function (e) {
            // console.log(" scroll works " + window.scrollY);

            if (old_scroll >= window.scrollY) {
                // console.log(" top works inside");


            }
        }
    }


    //     {

    //     const continue_read_para = document.querySelector("#nc3");
    //     const continue_news_btn = document.querySelector(".continue_news");

    //     continue_news_btn.addEventListener("click",()=>
    //     {
    //         document.write(continue_read_para);

    //     })

    // }
}


document.addEventListener('DOMContentLoaded', get_started);
